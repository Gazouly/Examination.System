<!DOCTYPE html>
<html lang="en">

<head>
	<link rel="stylesheet" type="text/css" href="../vendors/css/grid.css">
	<link rel="stylesheet" type="text/css" href="../vendors/css/ionicons.min.css">
	<link rel="stylesheet" type="text/css" href="../resources/css/style.css">
	<link rel="stylesheet" type="text/css" href="../resources/css/pages.css">
	<title>Add New Student</title>
</head>

<body>
	<!-- Navigation Bar -->
	<nav class="navbar">
		<div class="row">
			<a href="#"><img class="logo" src="../resources/img/logo.png" alt="Question Logo" /></a>
			<ul class="main-nav">
				<li><a class="" href="settings.html"><i class="ion-android-options"></i> Settings</a></li>
				<li><a class="" href="#"><i class="ion-power"></i> Sign Out</a></li>
			</ul>
		</div>
	</nav>
	<!-- Navigation Bar -->

	<!-- Main Page -->
	<section class="pageContent">
		<div class="row">

			<div class="col span-3-of-12 sidebar">
				<ul class="sidenav">
					<li class="student"><a href="take-exam.html"><i class="ion-compose"></i> TAKE EXAM</a></li>
					<li class="student"><a href="show-result.html"><i class="ion-printer"></i> SHOW RESULTS</a></li>
					<li class="professor"><a href="add-questions.html"><i class="ion-help-circled"></i> ADD QUESTIONS</a></li>
					<li class="professor"><a href="new-exam.html"><i class="ion-android-add-circle"></i> ADD EXAM</a></li>
					<li class="professor"><a href="stats.html"><i class="ion-podium"></i> STATS</a></li>
					<li class="empolyee sideactive"><a href="add-student.html"><i class="ion-android-person-add"></i> ADD STUDENT</a></li>
					<li class="empolyee"><a href="add-course.html"><i class="ion-android-add-circle"></i> ADD COURSE</a></li>
				</ul>
			</div>
			<div class="col span-9-of-12 sectionContent">
				<h2 class="text-center"><i class="ion-android-add-circle"></i> Add a New Student</h2>
				<div id="students-table">
					<span class="form-label">A list with students you added</span>
					<!-- 
						<thead><tr><th>(i+1)</th> + <th>STUDENT NAME</th> + <th>EMAIL</th> + <th></th> + <th>Delete</th></tr></thead>
					 -->
					{${studentsTable}}
					<a class="btn-primary add-student-btn">Add Student</a>
				</div>
				<div id="add-student">
					<form id="students-form" method='post'>
						<input class="input-field" name="studentName" type="text" placeholder="Student Name" required/>
						<input class="input-field" name="studentSSN" type="text" placeholder="Student SSN" required/>
						<select class="input-field" name="Department">
								<option value="1">Electrical Engineering</option>
								<option value="2">Civil Engineering</option>
								<option value="3">Architectural Engineering</option>
						</select>
						<select class="input-field" name="level">
								<option value="1">Level 1</option>
								<option value="2">Level 2</option>
								<option value="3">Level 3</option>
								<option value="4">Level 4</option>
						</select>
						<input class="input-field" name="studentEmail" type="text" placeholder="Email Address" required/>
						<input class="input-field" name="studentPassword" type="password" placeholder="Password" required/>
						<input class="btn-success" type="submit" value="Add Student" onclick="add(this)">
					</form>
				</div>
			</div>
		</div>
	</section>
	<script>
		/* ---------- STUDENT PAGE ---------- */

		var addStudentBtn = document.querySelector('.add-student-btn');

		addStudentBtn.addEventListener('click', function() {
			'use strict';
			document.querySelector('#students-table').style.display = "none";
			document.querySelector('#add-student').style.display = "block";
        });
        
        function del(x) {
            var deleteSSN = x.name;
            console.log(deleteSSN);
            sql = "delete_from_student_where_SSN_=" + deleteSSN;
            x.form.action = "http://127.0.0.1:3000/" + sql + ".del";  
            console.log(x.form.action);
            //x.form.submit();
        }
        function add(x) {
            var form = x.form;
            var sName = form.studentName.value, 
            sSSN = form.studentSSN.value,
            sDepartment = form.Department.options[form.Department.selectedIndex].value,
            sLevel = form.level.options[form.level.selectedIndex].value,
            sMail = form.studentEmail.value,
            sPassword = form.studentPassword.value;

            sql = "insert_into_student_VALUES_('" + sSSN + "','" + sName + "','" + sDepartment + "','" + sMail + "','" + sPassword + "','" + sLevel + "')";
            x.form.action = "http://127.0.0.1:3000/" + sql + ".add";  
            //x.form.submit();
        }
        /* ---------- STUDENT PAGE ---------- */
	</script>
</body>

</html>

